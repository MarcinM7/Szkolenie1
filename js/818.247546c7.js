"use strict";(self["webpackChunkarcanoid_vue"]=self["webpackChunkarcanoid_vue"]||[]).push([[818],{2818:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var d=i(6768),l=i(4232),a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUQEDcXAFNORQAAAORJREFUKM9jZEACZ5yd4/9++lT7+/17RQYGBgZWQcH7zHx8zSZ79y6EqWFkYGBgOOfhwfH77dtLv169UmXAAtjExG6zCgvrGe3Y8YOFgYGBAZ9iBgYGBqjcJQYGBjXGM87O8d/v3FmAw2SGX69ewfmcKioJzMkiImv/fv0qhE3D369fUfhMLCy6TDAPEgN+v3+vyITNGfgAE6ug4H1CmmB8VkHB+0zMfHzNaCGC4lGYGAMDAwMzH18zIwMDA8NJU9Nb+IIVFhfmp0+rMTEwMDCwCgvrsYmJ3canmFVYWA8e06QkDQAkbFusbk55WQAAAABJRU5ErkJggg==",A=i(144);const s={class:"game-view"},n={class:"game-stats"},h=5,r=9,x=70,o=20,y=10,f=60,u=35;var w={__name:"GameView",setup(e){const t=(0,A.KR)(0),i=(0,A.KR)(3),w=(0,A.KR)(!1);let c,g,v={width:100,height:20,x:350,y:580,speed:7,dx:0},k={x:400,y:300,size:10,speed:2,dx:4,dy:-4},m=[];for(let d=0;d<r;d++){m[d]=[];for(let e=0;e<h;e++)m[d][e]={x:0,y:0,status:1}}const p=()=>{g.beginPath(),g.arc(k.x,k.y,k.size,0,2*Math.PI),g.fillStyle="#FF5733",g.fill(),g.closePath()},F=()=>{g.fillStyle="#0095DD",g.fillRect(v.x,v.y,v.width,v.height)},E=()=>{for(let e=0;e<r;e++)for(let t=0;t<h;t++)if(1===m[e][t].status){const i=e*(x+y)+u,d=t*(o+y)+f;m[e][t].x=i,m[e][t].y=d;const l=["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF"];g.fillStyle=l[t],g.fillRect(i,d,x,o),g.strokeStyle="#000",g.strokeRect(i,d,x,o)}},R=()=>{g.font="48px Arial",g.fillStyle="#FF0000",g.textAlign="center",g.fillText("KONIEC GRY",c.width/2,c.height/2),g.font="24px Arial",g.fillText("Naciśnij SPACJĘ aby zagrać ponownie",c.width/2,c.height/2+50)},z=()=>{g.font="48px Arial",g.fillStyle="#00FF00",g.textAlign="center",g.fillText("WYGRAŁEŚ!",c.width/2,c.height/2),g.font="24px Arial",g.fillText("Naciśnij SPACJĘ aby zagrać ponownie",c.width/2,c.height/2+50)},C=()=>{for(let e=0;e<r;e++)for(let i=0;i<h;i++){const d=m[e][i];if(1===d.status&&k.x>d.x&&k.x<d.x+x&&k.y>d.y&&k.y<d.y+o){k.dy=-k.dy,d.status=0,t.value+=10;let e=!0;for(let t=0;t<r;t++){for(let i=0;i<h;i++)if(1===m[t][i].status){e=!1;break}if(!e)break}e&&(w.value=!0,setTimeout((()=>{G(!0)}),3e3))}}},G=(e=!1)=>{e?k.speed+=1:(t.value=0,i.value=3,k.speed=4),w.value=!1,k.x=c.width/2,k.y=c.height/2,k.dx=k.speed,k.dy=-k.speed,v.x=(c.width-v.width)/2;for(let t=0;t<r;t++)for(let e=0;e<h;e++)m[t][e].status=1},M=()=>{if(w.value)return g.clearRect(0,0,c.width,c.height),F(),void(i.value<=0?R():z());if(g.clearRect(0,0,c.width,c.height),E(),p(),F(),C(),(k.x+k.dx>c.width-k.size||k.x+k.dx<k.size)&&(k.dx=-k.dx),k.y+k.dy<k.size&&(k.dy=-k.dy),k.y+k.dy>c.height-k.size)if(k.x>v.x&&k.x<v.x+v.width){const e=k.x-(v.x+v.width/2),t=e/(v.width/2),i=t*Math.PI/3;k.dx=Math.sin(i)*k.speed,k.dy=-Math.cos(i)*k.speed}else i.value--,i.value<=0?w.value=!0:(k.x=c.width/2,k.y=c.height/2,k.dx=k.speed,k.dy=-k.speed,v.x=(c.width-v.width)/2);k.x+=k.dx,k.y+=k.dy,v.x+=v.dx,v.x<0&&(v.x=0),v.x+v.width>c.width&&(v.x=c.width-v.width),requestAnimationFrame(M)},B=e=>{"ArrowRight"===e.key||"d"===e.key?v.dx=v.speed:"ArrowLeft"===e.key||"a"===e.key?v.dx=-v.speed:" "===e.key&&w.value&&G()},L=e=>{"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"a"!==e.key&&"d"!==e.key||(v.dx=0)};return(0,d.sV)((()=>{c=document.getElementById("gameScreen"),g=c.getContext("2d"),document.addEventListener("keydown",B),document.addEventListener("keyup",L),M()})),(0,d.xo)((()=>{document.removeEventListener("keydown",B),document.removeEventListener("keyup",L)})),(e,A)=>((0,d.uX)(),(0,d.CE)("div",s,[A[0]||(A[0]=(0,d.Lk)("img",{id:"img_ball",src:a},null,-1)),A[1]||(A[1]=(0,d.Lk)("canvas",{id:"gameScreen",width:"800",height:"600"},null,-1)),(0,d.Lk)("div",n,[(0,d.Lk)("p",null,"Punkty: "+(0,l.v_)(t.value),1),(0,d.Lk)("p",null,"Życia: "+(0,l.v_)(i.value),1)])]))}};const c=w;var g=c}}]);
//# sourceMappingURL=818.247546c7.js.map